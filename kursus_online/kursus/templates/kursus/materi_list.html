{% extends 'kursus/base.html' %}
{% block title %}Daftar Materi{% endblock %}

{% block content %}
<h2 class="fw-bold mb-4">ğŸ“˜ Daftar Materi Pembelajaran</h2>

<div class="d-flex justify-content-end mb-3">
  <a href="{% url 'materi-create' %}" class="btn btn-primary">+ Tambah Materi</a>
</div>

<div class="list-group">
  {% for materi in object_list %}
  <div class="list-group-item py-3">
    <h5 class="fw-bold mb-1">
      {{ materi.urutan }}. {{ materi.judul }}
      <small class="text-muted">({{ materi.kelas.judul }})</small>
    </h5>

    <p class="mb-1">{{ materi.isi|truncatewords:25 }}</p>

    <small class="text-muted">
      Diunggah: {{ materi.tanggal_upload|date:"d M Y, H:i" }}
    </small>

    <div class="mt-2 d-flex gap-2">
      <a href="{% url 'materi-detail' materi.pk %}" class="btn btn-sm btn-outline-primary">Detail</a>
      <a href="{% url 'materi-update' materi.pk %}" class="btn btn-sm btn-warning text-white">Edit</a>
      <a href="{% url 'materi-delete' materi.pk %}" class="btn btn-sm btn-danger">Hapus</a>
    </div>
  </div>
  {% empty %}
  <div class="alert alert-secondary">Belum ada materi yang dibuat.</div>
  {% endfor %}
</div>
{% endblock %}
