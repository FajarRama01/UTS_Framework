{% extends 'kursus/base.html' %}
{% block title %}Dashboard Kursus{% endblock %}

{% block content %}

<div class="text-center mb-5">
  <h1 class="fw-bold">MiniLMS â€“ Sistem Kursus Online</h1>
  <p class="text-muted">Kelola instruktur, kelas pelatihan, dan materi pembelajaran dengan mudah.</p>
</div>

<!-- Statistics Section -->
<div class="row g-4 mb-5">
    <div class="col-md-4">
        <div class="card p-4 shadow-sm text-center">
            <h3 class="fw-bold text-primary">{{ total_instruktur }}</h3>
            <p class="text-muted">Instruktur Terdaftar</p>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card p-4 shadow-sm text-center">
            <h3 class="fw-bold text-success">{{ total_kelas }}</h3>
            <p class="text-muted">Kelas Pelatihan</p>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card p-4 shadow-sm text-center">
            <h3 class="fw-bold text-warning">{{ total_materi }}</h3>
            <p class="text-muted">Materi Pembelajaran</p>
        </div>
    </div>
</div>

<!-- Menu Cards -->
<div class="row g-4 mb-5">
  <div class="col-md-4">
    <div class="card p-4 shadow-sm">
      <h4 class="fw-bold mb-2">ğŸ‘¨â€ğŸ« Instruktur</h4>
      <p class="text-muted">Lihat dan kelola data instruktur</p>
      <a class="btn btn-primary w-100" href="{% url 'instruktur-list' %}">Lihat Data</a>
      <a href="{% url 'instruktur-create' %}" class="btn btn-success text-white">Tambah Instruktur</a>
      <a href="http://127.0.0.1:8000/kursus/instruktur/" class="btn btn-primary">Lihat Semua Instruktur</a>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card p-4 shadow-sm">
      <h4 class="fw-bold mb-2">ğŸ“š Kelas</h4>
      <p class="text-muted">Kelola kelas pelatihan</p>
      <a class="btn btn-primary w-100" href="{% url 'kelas-list' %}">Lihat Kelas</a>
      <a href="{% url 'kelas-create' %}" class="btn btn-success text-white">Tambah Kelas</a>
      <a href="http://127.0.0.1:8000/kursus/kelas/" class="btn btn-primary">Lihat Semua Kelas</a>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card p-4 shadow-sm">
      <h4 class="fw-bold mb-2">ğŸ“ Materi</h4>
      <p class="text-muted">Kelola materi pembelajaran</p>
      <a class="btn btn-primary w-100" href="{% url 'materi-list' %}">Lihat Materi</a>
      <a href="{% url 'materi-create' %}" class="btn btn-success text-white">Tambah Materi</a>
      <a href="http://127.0.0.1:8000/kursus/materi/" class="btn btn-primary">Lihat Semua Materi</a>
    </div>
  </div>
</div>
<!-- <div class="mb-4 d-flex gap-3">
  <a href="{% url 'instruktur-list' %}" class="btn btn-primary">Lihat Semua Instruktur</a>
  <a href="{% url 'kelas-list' %}" class="btn btn-success text-white">Lihat Semua Kelas</a>
  <a href="{% url 'materi-list' %}" class="btn btn-warning text-white">Lihat Semua Materi</a>
</div> -->
<!-- Card Instruktur -->

<!-- Kelas Terbaru -->
<h3 class="fw-bold mb-4">ğŸ”¥ Kelas Terbaru</h3>
<div class="row g-3">
  {% for k in kelas_terbaru %}
  <div class="col-md-4">
    <div class="card shadow-sm p-3 h-100">
      <h5 class="fw-bold">{{ k.judul }}</h5>
      <p class="text-muted">{{ k.get_tingkat_display }}</p>
      <p><strong>Instruktur:</strong> {{ k.instruktur.nama }}</p>
      <p>{{ k.deskripsi|truncatechars:150 }}</p>
      <a href="{% url 'kelas-detail' k.pk %}" class="btn btn-outline-primary btn-sm mt-auto">Lihat Detail</a>
    </div>
  </div>
  {% empty %}
  <p class="text-muted">Belum ada kelas terbaru.</p>
  {% endfor %}
</div>

{% endblock %}
