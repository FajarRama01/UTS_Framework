{% extends 'kursus/base.html' %}
{% block title %}Detail Kelas{% endblock %}

{% block content %}

<div class="card shadow-sm p-4 rounded-4 mb-4">
  <h3 class="fw-bold">{{ object.judul }}</h3>

  <p><strong>Instruktur:</strong> {{ object.instruktur.nama }}</p>

  <p><strong>Tingkat:</strong> {{ object.get_tingkat_display }}</p>

  <p class="mt-3">{{ object.deskripsi }}</p>

  <p class="text-muted">
    <strong>Mulai:</strong> {{ object.tanggal_mulai|date:"d M Y" }}
  </p>

  <div class="mt-4 d-flex gap-2">
    <a href="{% url 'kelas-update' object.pk %}" class="btn btn-warning text-white">Edit</a>
    <a href="{% url 'kelas-delete' object.pk %}" class="btn btn-danger">Hapus</a>
    <a href="{% url 'kelas-list' %}" class="btn btn-secondary">Kembali</a>
  </div>
</div>


<!-- BAGIAN MATERI KELAS -->
<div class="card shadow-sm p-4 rounded-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="fw-bold">ðŸ“˜ Materi Pembelajaran</h4>
    <a href="{% url 'materi-create' %}?kelas={{ object.pk }}" class="btn btn-sm btn-primary">+ Tambah Materi</a>
  </div>

  {% for materi in object.materi.all %}
    <div class="border-bottom py-2 mb-2">
      <h6 class="fw-bold">{{ materi.urutan }}. {{ materi.judul }}</h6>
      <p class="mb-1">{{ materi.isi|truncatewords:25 }}</p>

      <div class="d-flex gap-2">
        <a href="{% url 'materi-detail' materi.pk %}" class="btn btn-sm btn-outline-primary">Detail</a>
        <a href="{% url 'materi-update' materi.pk %}" class="btn btn-sm btn-warning text-white">Edit</a>
        <a href="{% url 'materi-delete' materi.pk %}" class="btn btn-sm btn-danger">Hapus</a>
      </div>
    </div>
  {% empty %}
    <p class="text-muted">Belum ada materi untuk kelas ini.</p>
  {% endfor %}
</div>

{% endblock %}
